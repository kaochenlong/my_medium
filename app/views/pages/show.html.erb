<section class="columns has-text-centered story-content">
  <section class="column is-offset-3 is-6">
    <h1 class="title"><%= @story.title %></h1>

    <span class="profile" data-controller="user">
      <%= image_tag @story.user.avatar.variant(resize: '50x50'), class: 'avatar' if @story.user.avatar.attached? %>
      <span class="username"><%= @story.user.username %></span>
      <%= link_to "Follow", '#', class: 'follow-button', 
                                 data: { action: 'user#follow', 
                                         user: @story.user.id, 
                                         target: 'user.followButton' } %>
    </span>

    <article class="content">
      <%= image_tag @story.cover_image.variant(resize: '1000x500'), class: 'cover-image' if @story.cover_image.attached? %>
      <%= simple_format(@story.content) %>

      <footer data-controller="story">
        <%= link_to "#", class: 'clapButton is-size-2 has-text-primary', data: { action: 'story#addClap', slug: @story.slug } do %>
          <i class="far fa-hand-spock"></i>
          <span class="clapCount" data-target="story.clapCount"><%= @story.clap %></span>
        <% end %>
      </footer>
    </article>
    <hr>
    <section class="comments">
      <h2>留言</h2>

      <%= render 'comment_area', story: @story, comment: @comment %>

      <section class="comment-list">
        <%= render partial: 'comment', collection: @comments %>
      </section>
    </section>
  </section>
</section>
